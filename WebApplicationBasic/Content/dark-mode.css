/**
 * Dark Mode Overrides
 * Estilos para elementos não cobertos pelo Bootstrap 5.3 dark mode nativo
 */

/* =============================================
   LAYOUT - Top Navbar & Footer
   ============================================= */
[data-bs-theme="dark"] .top-navbar {
    background: var(--bs-body-bg);
    border-bottom-color: var(--bs-border-color);
}

[data-bs-theme="dark"] footer {
    background: var(--bs-tertiary-bg);
    border-top-color: var(--bs-border-color);
}

[data-bs-theme="dark"] footer p {
    color: var(--bs-secondary-color);
}

/* =============================================
   SIDEBAR - Já é escura, ajustes sutis
   ============================================= */
[data-bs-theme="dark"] .sidebar {
    background: #1a1d20;
}

[data-bs-theme="dark"] .sidebar-header {
    background: #141618;
}

/* =============================================
   DATATABLES
   ============================================= */
[data-bs-theme="dark"] .dataTables_wrapper .dataTables_length,
[data-bs-theme="dark"] .dataTables_wrapper .dataTables_filter,
[data-bs-theme="dark"] .dataTables_wrapper .dataTables_info,
[data-bs-theme="dark"] .dataTables_wrapper .dataTables_paginate {
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .dataTables_wrapper .dataTables_length select,
[data-bs-theme="dark"] .dataTables_wrapper .dataTables_filter input {
    background-color: var(--bs-body-bg);
    border-color: var(--bs-border-color);
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] table.dataTable thead th,
[data-bs-theme="dark"] table.dataTable thead td {
    border-bottom-color: var(--bs-border-color);
}

[data-bs-theme="dark"] table.dataTable.table-striped > tbody > tr:nth-of-type(odd) > * {
    background-color: rgba(255, 255, 255, 0.02);
    --bs-table-accent-bg: rgba(255, 255, 255, 0.02);
}

[data-bs-theme="dark"] .dataTables_wrapper .dataTables_paginate .paginate_button {
    color: var(--bs-body-color) !important;
    background: transparent;
    border-color: var(--bs-border-color);
}

[data-bs-theme="dark"] .dataTables_wrapper .dataTables_paginate .paginate_button.current,
[data-bs-theme="dark"] .dataTables_wrapper .dataTables_paginate .paginate_button.current:hover {
    background: var(--bs-primary) !important;
    border-color: var(--bs-primary) !important;
    color: #fff !important;
}

[data-bs-theme="dark"] .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
    background: var(--bs-tertiary-bg) !important;
    border-color: var(--bs-border-color) !important;
    color: var(--bs-body-color) !important;
}

[data-bs-theme="dark"] .dataTables_wrapper .dataTables_paginate .paginate_button.disabled,
[data-bs-theme="dark"] .dataTables_wrapper .dataTables_paginate .paginate_button.disabled:hover {
    color: var(--bs-secondary-color) !important;
    background: transparent !important;
}

/* =============================================
   SELECT2
   ============================================= */
/* Container e Selection */
[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-selection {
    background-color: #212529;
    border-color: #495057;
    color: #e9ecef;
}

[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-selection:focus,
[data-bs-theme="dark"] .select2-container--bootstrap-5.select2-container--focus .select2-selection,
[data-bs-theme="dark"] .select2-container--bootstrap-5.select2-container--open .select2-selection {
    border-color: #0d6efd;
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
}

/* Single selection */
[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-selection--single .select2-selection__rendered {
    color: #e9ecef;
}

[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-selection--single .select2-selection__placeholder {
    color: #6c757d;
}

[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-selection--single .select2-selection__clear {
    color: #adb5bd;
}

[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-selection--single .select2-selection__clear:hover {
    color: #e9ecef;
}

[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-selection--single .select2-selection__arrow b {
    border-color: #adb5bd transparent transparent transparent;
}

/* Dropdown */
[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-dropdown {
    background-color: #212529;
    border-color: #495057;
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.4);
}

/* Search box dentro do dropdown */
[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-search--dropdown .select2-search__field {
    background-color: #2b3035;
    border-color: #495057;
    color: #e9ecef;
}

[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-search--dropdown .select2-search__field:focus {
    border-color: #0d6efd;
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
}

[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-search--dropdown .select2-search__field::placeholder {
    color: #6c757d;
}

/* Results/Options */
[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-results__option {
    color: #e9ecef;
    background-color: #212529;
}

[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-results__option--highlighted {
    background-color: #0d6efd;
    color: #fff;
}

[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-results__option--selected {
    background-color: #343a40;
    color: #e9ecef;
}

[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-results__option--disabled {
    color: #6c757d;
}

[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-results__option[aria-disabled="true"] {
    color: #6c757d;
}

/* Group headers */
[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-results__group {
    color: #adb5bd;
    background-color: #1a1d20;
}

/* Multiple selection */
[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-selection--multiple .select2-selection__rendered {
    background-color: #212529;
}

[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-selection--multiple .select2-selection__choice {
    background-color: #343a40;
    border-color: #495057;
    color: #e9ecef;
}

[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-selection--multiple .select2-selection__choice__remove {
    color: #adb5bd;
    border-color: #495057;
}

[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-selection--multiple .select2-selection__choice__remove:hover {
    color: #dc3545;
    background-color: rgba(220, 53, 69, 0.2);
}

[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-selection--multiple .select2-search__field {
    background-color: transparent;
    color: #e9ecef;
}

[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-selection--multiple .select2-search__field::placeholder {
    color: #6c757d;
}

/* Clear button */
[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-selection__clear {
    color: #adb5bd;
}

[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-selection__clear:hover {
    color: #dc3545;
}

/* Loading indicator */
[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-results__option--load-more,
[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-results__option[aria-live="polite"] {
    color: #6c757d;
}

/* No results message */
[data-bs-theme="dark"] .select2-container--bootstrap-5 .select2-results__message {
    color: #6c757d;
}

/* =============================================
   SWEETALERT2
   ============================================= */
[data-bs-theme="dark"] .swal2-popup {
    background: var(--bs-body-bg);
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .swal2-title {
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .swal2-html-container {
    color: var(--bs-secondary-color);
}

[data-bs-theme="dark"] .swal2-input,
[data-bs-theme="dark"] .swal2-textarea,
[data-bs-theme="dark"] .swal2-select {
    background-color: var(--bs-tertiary-bg);
    border-color: var(--bs-border-color);
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .swal2-input:focus,
[data-bs-theme="dark"] .swal2-textarea:focus {
    border-color: var(--bs-primary);
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
}

[data-bs-theme="dark"] .swal2-validation-message {
    background: var(--bs-tertiary-bg);
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .swal2-footer {
    border-top-color: var(--bs-border-color);
    color: var(--bs-secondary-color);
}

/* =============================================
   TIPPY.JS
   ============================================= */
[data-bs-theme="dark"] .tippy-box {
    background-color: var(--bs-tertiary-bg);
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .tippy-box[data-theme~='light'] {
    background-color: var(--bs-body-bg);
    border: 1px solid var(--bs-border-color);
    color: var(--bs-body-color);
    box-shadow: 0 4px 14px rgba(0, 0, 0, 0.4);
}

[data-bs-theme="dark"] .tippy-box[data-theme~='light'] > .tippy-arrow::before {
    border-bottom-color: var(--bs-body-bg);
}

[data-bs-theme="dark"] .tippy-box > .tippy-arrow::before {
    border-bottom-color: var(--bs-tertiary-bg);
}

/* =============================================
   WIZARD (CreateWizard, EditWizard)
   ============================================= */
[data-bs-theme="dark"] .wizard-container {
    background: var(--bs-body-bg);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

[data-bs-theme="dark"] #wizardTabs {
    border-bottom-color: var(--bs-border-color);
}

[data-bs-theme="dark"] #wizardTabs > li > a {
    color: var(--bs-secondary-color);
}

[data-bs-theme="dark"] #wizardTabs > li > a:hover {
    background-color: var(--bs-tertiary-bg);
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .tab-content {
    background: var(--bs-body-bg);
}

[data-bs-theme="dark"] .variant-attribute-panel {
    border-color: var(--bs-border-color);
}

[data-bs-theme="dark"] .variant-attribute-panel .card-header {
    background-color: var(--bs-tertiary-bg);
}

[data-bs-theme="dark"] .variant-details-row {
    background-color: var(--bs-tertiary-bg);
}

[data-bs-theme="dark"] .variant-table thead th {
    background-color: var(--bs-tertiary-bg);
    color: var(--bs-body-color);
    border-bottom-color: var(--bs-border-color);
}

[data-bs-theme="dark"] .variant-table tbody tr.variant-row:hover {
    background-color: var(--bs-tertiary-bg);
}

[data-bs-theme="dark"] .variant-details-row .card {
    background-color: var(--bs-body-bg);
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* =============================================
   AUTH PAGES
   ============================================= */
[data-bs-theme="dark"] .auth-container {
    background: var(--bs-body-bg);
    box-shadow: 0 0 40px rgba(0, 0, 0, 0.4);
}

[data-bs-theme="dark"] .auth-body {
    background: var(--bs-body-bg);
}

[data-bs-theme="dark"] .info-box {
    background: rgba(13, 110, 253, 0.15);
    border-left-color: var(--bs-primary);
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .option-card {
    background: var(--bs-body-bg);
    border-color: var(--bs-border-color);
}

[data-bs-theme="dark"] .option-card:hover {
    background: var(--bs-tertiary-bg);
    border-color: var(--bs-primary);
}

[data-bs-theme="dark"] .option-card.selected {
    background: rgba(13, 110, 253, 0.15);
    border-color: var(--bs-primary);
}

[data-bs-theme="dark"] .user-info-box {
    background: var(--bs-tertiary-bg);
    border-color: var(--bs-border-color);
}

[data-bs-theme="dark"] .divider::before,
[data-bs-theme="dark"] .divider::after {
    border-bottom-color: var(--bs-border-color);
}

[data-bs-theme="dark"] .auth-footer {
    border-top-color: var(--bs-border-color);
}

/* =============================================
   SCROLLBAR
   ============================================= */
[data-bs-theme="dark"] ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

[data-bs-theme="dark"] ::-webkit-scrollbar-track {
    background: var(--bs-tertiary-bg);
}

[data-bs-theme="dark"] ::-webkit-scrollbar-thumb {
    background: #495057;
    border-radius: 5px;
}

[data-bs-theme="dark"] ::-webkit-scrollbar-thumb:hover {
    background: #6c757d;
}

/* Firefox */
[data-bs-theme="dark"] * {
    scrollbar-color: #495057 var(--bs-tertiary-bg);
}

/* =============================================
   ALERTS
   ============================================= */
[data-bs-theme="dark"] .alert-danger {
    background-color: rgba(220, 53, 69, 0.2);
    border-color: rgba(220, 53, 69, 0.4);
    color: #f8d7da;
}

[data-bs-theme="dark"] .alert-success {
    background-color: rgba(25, 135, 84, 0.2);
    border-color: rgba(25, 135, 84, 0.4);
    color: #d1e7dd;
}

[data-bs-theme="dark"] .alert-warning {
    background-color: rgba(255, 193, 7, 0.2);
    border-color: rgba(255, 193, 7, 0.4);
    color: #fff3cd;
}

[data-bs-theme="dark"] .alert-info {
    background-color: rgba(13, 202, 240, 0.2);
    border-color: rgba(13, 202, 240, 0.4);
    color: #cff4fc;
}

[data-bs-theme="dark"] .alert-primary {
    background-color: rgba(13, 110, 253, 0.2);
    border-color: rgba(13, 110, 253, 0.4);
    color: #cfe2ff;
}

[data-bs-theme="dark"] .alert-secondary {
    background-color: rgba(108, 117, 125, 0.2);
    border-color: rgba(108, 117, 125, 0.4);
    color: #e2e3e5;
}

[data-bs-theme="dark"] .alert-light {
    background-color: rgba(248, 249, 250, 0.1);
    border-color: rgba(248, 249, 250, 0.2);
    color: #d3d3d4;
}

[data-bs-theme="dark"] .alert-dark {
    background-color: rgba(33, 37, 41, 0.5);
    border-color: rgba(33, 37, 41, 0.6);
    color: #adb5bd;
}

/* Alert links */
[data-bs-theme="dark"] .alert-danger .alert-link {
    color: #f1aeb5;
}

[data-bs-theme="dark"] .alert-success .alert-link {
    color: #a3cfbb;
}

[data-bs-theme="dark"] .alert-warning .alert-link {
    color: #ffda6a;
}

[data-bs-theme="dark"] .alert-info .alert-link {
    color: #9eeaf9;
}

/* =============================================
   ADD VARIANT PAGE - Attribute Groups
   ============================================= */
[data-bs-theme="dark"] .attribute-group {
    background-color: var(--bs-tertiary-bg);
    border-color: var(--bs-border-color);
}

[data-bs-theme="dark"] .attribute-group h6 {
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .attribute-group .form-check {
    background-color: var(--bs-body-bg);
    border-color: var(--bs-border-color);
}

[data-bs-theme="dark"] .attribute-group .form-check:hover {
    background-color: var(--bs-tertiary-bg);
    border-color: var(--bs-secondary-color);
}

[data-bs-theme="dark"] .attribute-group .form-check:has(input:checked) {
    background-color: rgba(13, 110, 253, 0.3);
    border-color: var(--bs-primary);
}

[data-bs-theme="dark"] .attribute-group .form-check-label {
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .attribute-group .form-check-input:checked + .form-check-label {
    color: var(--bs-body-color);
}

/* Form check inputs (radio/checkbox) em dark mode */
[data-bs-theme="dark"] .form-check-input {
    background-color: var(--bs-tertiary-bg);
    border-color: var(--bs-border-color);
}

[data-bs-theme="dark"] .form-check-input:checked {
    background-color: var(--bs-primary);
    border-color: var(--bs-primary);
}

[data-bs-theme="dark"] .form-check-input:focus {
    border-color: var(--bs-primary);
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
}

/* Cards em dark mode */
[data-bs-theme="dark"] .card {
    background-color: var(--bs-body-bg);
    border-color: var(--bs-border-color);
}

[data-bs-theme="dark"] .card-header {
    background-color: var(--bs-tertiary-bg);
    border-bottom-color: var(--bs-border-color);
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .card-body {
    background-color: var(--bs-body-bg);
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .card.border-primary {
    border-color: var(--bs-primary) !important;
}

[data-bs-theme="dark"] .card-header.bg-primary {
    background-color: var(--bs-primary) !important;
    color: #fff !important;
}

/* Validation states em dark mode */
[data-bs-theme="dark"] .form-control.is-invalid {
    border-color: #dc3545 !important;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");
}

[data-bs-theme="dark"] .form-control.is-valid {
    border-color: #198754 !important;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");
}

/* =============================================
   MISC
   ============================================= */
[data-bs-theme="dark"] code {
    background-color: var(--bs-tertiary-bg);
    color: #e685b5;
}

[data-bs-theme="dark"] .list-group-item {
    background-color: var(--bs-body-bg);
    border-color: var(--bs-border-color);
    color: var(--bs-body-color);
}

[data-bs-theme="dark"] .list-group-item:hover {
    background-color: var(--bs-tertiary-bg);
}

[data-bs-theme="dark"] hr {
    border-color: var(--bs-border-color);
}
